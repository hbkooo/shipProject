<!-- TOC -->

- [0 常用返回代码](#0-常用返回代码)
- [1 民用对象检测](#1-民用对象检测)
    - [1.1 描述](#11-描述)
    - [1.2 请求](#12-请求)
    - [1.3 返回](#13-返回)
    - [1.4 返回示例](#14-返回示例)
- [2 遥感舰船检测](#2-遥感舰船检测)
    - [2.1 描述](#21-描述)
    - [2.2 请求](#22-请求)
    - [2.3 返回](#23-返回)
    - [2.4 返回示例](#24-返回示例)
- [3 SAR图像舰船飞机检测](#3-SAR图像舰船飞机检测)
    - [3.1 描述](#31-描述)
    - [3.2 请求](#32-请求)
    - [3.3 返回](#33-返回)
    - [3.4 返回示例](#34-返回示例)

<!-- /TOC -->

# 0 常用返回代码
| 编码 | 说明 |
| :----: | :------: |
| 101 | YOLO检测成功 |
| 102 | YOLO检测失败 |
| 201 | 遥感舰船检测成功 | 
| 202 | 遥感舰船检测失败 | 
| 301 | SAR图像检测成功 | 
| 302 | SAR图像检测失败 | 

| 10002 | 服务器上该服务暂未启动 |
| 10005 | Json参数错误，缺少参数或类型不对 |
| 10006 | Json body语法错误 |
| 10007 | 图片base64编码错误(删除头`data:image/jpg;base64`) |
| 10009 | 参数为空 |
| 10010 | 授权错误 |
    
# 1 民用对象检测
## 1.1 描述
传入一张图片进行民用的80种对象检测。  
可以检测到图片中coco数据集中的80种对象，并对检测到的所有所有对象进行分类。

## 1.2 请求
调用地址：tcp://127.0.0.1:5563
接口ID：5
请求方式：zmq  
请求类型：json message  
频率控制：无

| 是否必选 | 参数名 | 类型 | 参数说明 |
| :------: | :----: | :--: | :------: |
| 必选 | interface | String | 调用此API的API ID |
| 必选 | api_key | String | 调用此API的API Key |
| 必选 | image_base64 | String| 图片 base64数据 |

## 1.3 返回
返回类型：JSON  

| 参数名 | 类型 | 参数说明 |
| :----: | :--: | :------: |
| request_id | String | 用于区分每一次请求的唯一的字符串 |
| response_id | String | 返回结果状态码，用于区分返回的结果信息 |
| time_used | Int | 整个请求所花费的时间，单位为毫秒 |
| error_message | String | 检测的结果信息，101检测成功; |
| result_nums | Int | 图片中检测到的对象的数目 |
| result | Array | 检测的对象的结果信息 ||
| result.label | float | 该边界框对应的对象类别编号 |
| result.score | float | 检测为label对象的可信度 |
| result.xmin | float | 对象框左上角点横坐标 |
| result.ymin | float | 对象框左上角点纵坐标 |
| result.xmax | float | 对象框右下角点横坐标 |
| result.ymax | float | 对象框右下角点纵坐标 |


## 1.4 返回示例
```json
{
            error_message: '',
            request_id: '32c6fd2d-9827-482d-9d43-5f313b7e31d0',
            response_id: '101',
            result:
            [
                { label: 17.0, score: 0.95217150449752808, xmax: 480.8406982421875, xmin: 6.2976837158203125, ymax: 380.68130493164062, ymin: 0 },
                { labe: 5.0, score: 0.91169869899749756, xmax: 474.75787353515625, xmin: 3.4319915771484375, ymax: 279.96096801757812, ymin: 56.968162536621094 },
                { label: 18.0, score: 0.99368053674697876, xmax: 194.98007202148438, xmin: 91.904502868652344, ymax: 215.1214599609375, ymin: 75.484077453613281 },
                { label: 1.0, score: 0.89500396251678467, xmax: 181.89349365234375, xmin: 104.91879272460938, ymax: 164.78083801269531, ymin: 15.783966064453125 }
            ],
            result_nums: 4,
            time_used: 384
}
```


# 2 遥感舰船检测
## 2.1 描述
传入一张图片进行舰船对象检测并识别，可以检测图片中的4类对象，包括军舰、民船、航母、潜艇。

## 2.2 请求
调用地址：tcp://127.0.0.1:5563
接口ID：6
请求方式：zmq  
请求类型：json message  
频率控制：无

| 是否必选 | 参数名 | 类型 | 参数说明 |
| :------: | :----: | :--: | :------: |
| 必选 | interface | String | 调用此API的API ID |
| 必选 | api_key | String | 调用此API的API Key |
| 必选 | image_base64 | String| 图片 base64数据 |

## 2.3 返回
返回类型：JSON  

| 参数名 | 类型 | 参数说明 |
| :----: | :--: | :------: |
| request_id | String | 用于区分每一次请求的唯一的字符串 |
| response_id | String | 返回结果状态码，用于区分返回的结果信息 |
| time_used | Int | 整个请求所花费的时间，单位为毫秒 |
| error_message | String | 检测的结果信息，201检测成功; |
| result_nums | Int | 图片中检测到的对象的数目 |
| result | Array | 检测的对象的结果信息 ||
| result.label | float | 该边界框对应的对象类别编号 |
| result.score | float | 检测为label对象的可信度 |
| result.x1 | float | 边界框第一个点横坐标 |
| result.y1 | float | 边界框第一个点纵坐标 |
| result.x2 | float | 边界框第二个点横坐标 |
| result.y2 | float | 边界框第二个点纵坐标 |
| result.x3 | float | 边界框第三个点横坐标 |
| result.y3 | float | 边界框第三个点纵坐标 |
| result.x4 | float | 边界框第四个点横坐标 |
| result.y4 | float | 边界框第四个点纵坐标 |


## 2.4 返回示例
```json
{
            error_message: '',
            request_id: 'b8d8e672-027a-45ac-9dc0-484bca9b2f28',
            response_id: '201',
            result:
            [
                { label: 17.0, score: 0.95217150449752808, xmax: 480.8406982421875, xmin: 6.2976837158203125, ymax: 380.68130493164062, ymin: 0 },
                { labe: 5.0, score: 0.91169869899749756, xmax: 474.75787353515625, xmin: 3.4319915771484375, ymax: 279.96096801757812, ymin: 56.968162536621094 },
                { label: 18.0, score: 0.99368053674697876, xmax: 194.98007202148438, xmin: 91.904502868652344, ymax: 215.1214599609375, ymin: 75.484077453613281 },
                { label: 1.0, score: 0.89500396251678467, xmax: 181.89349365234375, xmin: 104.91879272460938, ymax: 164.78083801269531, ymin: 15.783966064453125 }
            ],
            result_nums: 4,
            time_used: 395
}
```

# 3 SAR图像舰船飞机检测
## 3.1 描述
传入一张图片进行遥感图像中的对象检测和分类，可以检测到红外图片中的两类对象，包括舰船和飞机。

## 3.2 请求
调用地址：tcp://127.0.0.1:5563
接口ID：7
请求方式：zmq  
请求类型：json message  
频率控制：无

| 是否必选 | 参数名 | 类型 | 参数说明 |
| :------: | :----: | :--: | :------: |
| 必选 | interface | String | 调用此API的API ID |
| 必选 | api_key | String | 调用此API的API Key |
| 必选 | image_base64 | String| 图片 base64数据 |

## 3.3 返回
返回类型：JSON  

| 参数名 | 类型 | 参数说明 |
| :----: | :--: | :------: |
| request_id | String | 用于区分每一次请求的唯一的字符串 |
| response_id | String | 返回结果状态码，用于区分返回的结果信息 |
| time_used | Int | 整个请求所花费的时间，单位为毫秒 |
| error_message | String | 检测的结果信息，301检测成功; |
| result_nums | Int | 图片中检测到的对象的数目 |
| result | Array | 检测的对象的结果信息 ||
| result.label | float | 该边界框对应的对象类别编号 |
| result.score | float | 检测为label对象的可信度 |
| result.xmin | float | 对象框左上角点横坐标 |
| result.ymin | float | 对象框左上角点纵坐标 |
| result.xmax | float | 对象框右下角点横坐标 |
| result.ymax | float | 对象框右下角点纵坐标 |


## 3.4 返回示例
```json
{ 
            error_message: '',
            request_id":'8dca480c-bcc0-4fba-b732-73f692399399',
            response_id: '301',
            result:
            [
                { label: 3.0, score: 0.63209247589111328, xmax: 347.65850830078125, xmin: 217.73390197753906, ymax: 282.61346435546875, ymin: 152.28135681152344},
                { label: 2.0, score: 0.76152640581130981, xmax: 347.65850830078125, xmin: 217.73390197753906, ymax: 282.61346435546875, ymin: 152.28135681152344},
                { label: 3.0, score: 0.79181015491485596, xmax: 187.01284790039062, xmin: 124.51425933837891, ymax: 151.31198120117188, ymin: 71.913246154785156}
            ],
            result_nums: 3,
            time_used: 138
}
```

